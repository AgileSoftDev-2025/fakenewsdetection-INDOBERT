Feature: Share Hasil Deteksi Berita # features/share_detection.feature:2
  Sebagai pengguna yang telah melakukan deteksi berita
  Saya ingin dapat membagikan hasil deteksi
  Agar orang lain dapat melihat hasil analisis
  Background:   # features/share_detection.feature:7

  @smoke @critical
  Scenario: User shares detection result via WhatsApp    # features/share_detection.feature:12
    Given the backend API is running                     # steps/share_detection_steps.py:11
    And the frontend application is accessible           # steps/share_detection_steps.py:17
    Given I am on "Results Page"                         # steps/share_detection_steps.py:23
    And I see "Hoax" detection result                    # steps/share_detection_steps.py:29
    When I press "Share"                                 # steps/share_detection_steps.py:40
    And I select "WhatsApp" from share options           # steps/share_detection_steps.py:50
    Then WhatsApp should open with pre-filled message    # steps/share_detection_steps.py:54
    And the message should contain news title            # steps/share_detection_steps.py:58
    And the message should contain "HOAX" status         # steps/share_detection_steps.py:62
    And the message should contain confidence score      # steps/share_detection_steps.py:66
    And the message should contain detection result link # steps/share_detection_steps.py:70

  @smoke @critical
  Scenario: User copies detection result link                                             # features/share_detection.feature:24
    Given the backend API is running                                                      # steps/share_detection_steps.py:11
    And the frontend application is accessible                                            # steps/share_detection_steps.py:17
    Given I am on "Results Page"                                                          # steps/share_detection_steps.py:23
    And the detection has ID "DET-2024-001234"                                            # steps/share_detection_steps.py:35
    When I press "Copy Link"                                                              # steps/share_detection_steps.py:40
    Then the link "https://app.com/results/DET-2024-001234" should be copied to clipboard # steps/share_detection_steps.py:74
    And I should see "Link copied successfully"                                           # steps/share_detection_steps.py:84
    And the notification should disappear after 3 seconds                                 # steps/share_detection_steps.py:88

